{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/index.js"],"sourcesContent":["import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nconst apiKey = '40813799-13823f8fac4dfa82ba757ecf4';\n\nexport async function performSearch(query, page = 1) {\n  const perPage = 40;\n  const apiUrl = `https://pixabay.com/api/?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await axios.get(apiUrl);\n    return response.data;\n  } catch (error) {\n    console.error('Error getting data:', error);\n    Notiflix.Notify.failure(\n      'Sorry, there was an error retrieving the images. Please try again later.'\n    );\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { performSearch } from './pixabay-api';\n\ndocument\n  .getElementById('search-form')\n  .addEventListener('submit', async function (event) {\n    event.preventDefault();\n\n    const searchQuery = document.getElementsByName('searchQuery')[0].value;\n\n    if (searchQuery.trim() !== '') {\n      try {\n        const { hits, totalHits } = await performSearch(searchQuery);\n        displayImages(hits);\n        updateLightbox();\n      } catch (error) {\n        console.error('Search error:', error);\n      }\n    } else {\n      alert('Please enter a search query.');\n    }\n  });\n\n// function displayImages(images) {\n//   const gallery = document.querySelector('.gallery');\n\n//   if (images.length > 0) {\n//     images.forEach(image => {\n//       const card = document.createElement('div');\n//       card.className = 'photo-card';\n\n//       const img = document.createElement('img');\n//       img.src = image.webformatURL;\n//       img.alt = image.tags;\n//       img.loading = 'lazy';\n\n//       const info = document.createElement('div');\n//       info.className = 'info';\n\n//       const likes = createInfoItem('Likes', image.likes);\n//       const views = createInfoItem('Views', image.views);\n//       const comments = createInfoItem('Comments', image.comments);\n//       const downloads = createInfoItem('Downloads', image.downloads);\n\n//       info.appendChild(likes);\n//       info.appendChild(views);\n//       info.appendChild(comments);\n//       info.appendChild(downloads);\n\n//       card.appendChild(img);\n//       card.appendChild(info);\n\n//       gallery.appendChild(card);\n//     });\n//   } else {\n//     gallery.innerHTML =\n//       '<p>Sorry, no images were found for your request. Try again.</p>';\n//   }\n// }\n\n// function createInfoItem(label, value) {\n//   const item = document.createElement('p');\n//   item.className = 'info-item';\n//   item.innerHTML = `<b>${label}:</b> ${value}`;\n//   return item;\n// }\n\nfunction updateLightbox() {\n  const lightbox = new SimpleLightbox('.gallery img');\n  lightbox.refresh();\n}\n\nfunction scrollToNextGroup() {\n  const { height: cardHeight } = document\n    .querySelector('.gallery')\n    .firstElementChild.getBoundingClientRect();\n\n  scrollBy({\n    top: cardHeight * 2,\n    behavior: 'smooth',\n  });\n}\n\nfunction displaySearchResultMessage(totalHits) {\n  Notiflix.Notify.success(`Hooray! We found ${totalHits} images.`);\n}\n\nfunction displayEndOfResultsMessage() {\n  Notiflix.Notify.info(\n    \"We're sorry, but you've reached the end of search results.\"\n  );\n}\n"],"names":["apiKey","performSearch","query","page","apiUrl","axios","error","Notiflix","event","searchQuery","hits","totalHits","updateLightbox","SimpleLightbox"],"mappings":"owBAGA,MAAMA,EAAS,qCAER,eAAeC,EAAcC,EAAOC,EAAO,EAAG,CAEnD,MAAMC,EAAS,gCAAgCJ,OAAYE,kEAAsEC,cAAiB,KAElJ,GAAI,CAEF,OADiB,MAAME,EAAM,IAAID,CAAM,GACvB,IACjB,OAAQE,EAAP,CACA,cAAQ,MAAM,sBAAuBA,CAAK,EAC1CC,EAAS,OAAO,QACd,0EACN,EACUD,CACP,CACH,CCfA,SACG,eAAe,aAAa,EAC5B,iBAAiB,SAAU,eAAgBE,EAAO,CACjDA,EAAM,eAAc,EAEpB,MAAMC,EAAc,SAAS,kBAAkB,aAAa,EAAE,GAAG,MAEjE,GAAIA,EAAY,KAAM,IAAK,GACzB,GAAI,CACF,KAAM,CAAE,KAAAC,EAAM,UAAAC,CAAS,EAAK,MAAMV,EAAcQ,CAAW,EAC3D,cAAcC,CAAI,EAClBE,GACD,OAAQN,EAAP,CACA,QAAQ,MAAM,gBAAiBA,CAAK,CACrC,MAED,MAAM,8BAA8B,CAE1C,CAAG,EA8CH,SAASM,GAAiB,CACP,IAAIC,EAAe,cAAc,EACzC,QAAO,CAClB"}